<div class="result-container">
  <div class="result-header">
    <h1 class="game-title">Game Complete!</h1>

    <div class="final-score-section" role="region" aria-label="Final score">
      <div class="score-emoji" role="img" aria-label="{{ performanceMessage().title }}">{{ performanceMessage().emoji }}</div>
      <div class="performance-title">{{ performanceMessage().title }}</div>
      <div class="final-score" aria-label="Final score: {{ gameState().totalScore }} points">{{ gameState().totalScore }}</div>
      <div class="score-subtitle">out of {{ 5000 }} points ({{ scorePercentage() }}%)</div>
      <div class="performance-message">{{ performanceMessage().message }}</div>
    </div>

    <div class="action-buttons">
      <button class="share-button share-x" (click)="onShareToX()" type="button" aria-label="Share result to X (Twitter)">
        <svg class="button-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
        </svg>
        Share to X
      </button>
      <button class="share-button bluesky" (click)="onShareToBluesky()" type="button" aria-label="Share result to Bluesky">
        <svg class="button-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 530" fill="currentColor" aria-hidden="true">
          <path d="m135.72 44.03c66.496 49.921 138.02 151.14 164.28 205.46 26.262-54.316 97.782-155.54 164.28-205.46 47.98-36.021 125.72-63.892 125.72 24.795 0 17.712-10.155 148.79-16.111 170.07-20.703 73.984-96.144 92.854-163.25 81.433 117.3 19.964 147.14 86.092 82.697 152.22-122.39 125.59-175.91-31.511-189.63-71.766-2.514-7.3797-3.6904-10.832-3.7077-7.8964-0.0174-2.9357-1.1937 0.51669-3.7077 7.8964-13.714 40.255-67.233 197.36-189.63 71.766-64.444-66.128-34.605-132.26 82.697-152.22-67.108 11.421-142.55-7.4491-163.25-81.433-5.9562-21.282-16.111-152.36-16.111-170.07 0-88.687 77.742-60.816 125.72-24.795z"/>
        </svg>
        Share to Bluesky
      </button>
      <button class="share-button share-other" (click)="onShareToOther()" type="button" aria-label="Share result to other platforms">
        <svg class="button-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z"/>
        </svg>
        Share to Other
      </button>
      <button class="replay-button" (click)="onReplayClick()" type="button" aria-label="Start a new game">
        Play Again
      </button>
    </div>
  </div>

  <div class="rounds-breakdown">
    <h2 class="breakdown-title">Round Breakdown</h2>
    @for (round of gameState().rounds; track round.roundNumber) {
      <app-round-detail [round]="round"></app-round-detail>
    }
  </div>

  <div class="creator-credit">
    <a href="https://bsky.app/profile/krgm4d.dev" target="_blank" rel="noopener noreferrer">Created by Kurogoma4D</a>
  </div>
</div>
